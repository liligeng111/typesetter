<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0062)http://www.flotcharts.org/flot/examples/basic-usage/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>Flot Examples: Basic Usage</title>
	<link href="./script/examples.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<script language="javascript" type="text/javascript" src="./script/jquery.js"></script>
	<script language="javascript" type="text/javascript" src="./script/jquery.flot.js"></script>
	<script language="javascript" type="text/javascript" src="./script/rivers.js"></script>
	<script type="text/javascript">

	$(function() {

		var graph = [];
		for (var i = 0; i < rivers.length; i++) 
		{
			var found = false;
			for (var j = 0; j < graph.length; j++)
			{
				if (graph[j].label == rivers[i].size)
				{
					found = true;
					break;
				}
			}
			if (!found)
			{				
				graph.push({label:rivers[i].size, data:[]});
				j = graph.length - 1;
			}
			graph[j].data.push([rivers[i].local, rivers[i].global]);
		}
		//console.log(graph);

		$.plot("#placeholder", graph, {series:{points:{show:true}}, grid:{hoverable:true,clickable:true}});
		$("<div id='tooltip'></div>").css({
			position: "absolute",
			display: "none",
			border: "1px solid #fdd",
			padding: "2px",
			"background-color": "#fee",
			opacity: 0.80
		}).appendTo("body");

		$("#placeholder").bind("plothover", function (event, pos, item) {
			if (item) {
					var x = item.datapoint[0].toFixed(2),
						y = item.datapoint[1].toFixed(2);

					$("#tooltip").html(item.datapoint[0] + " " + item.datapoint[1])
						.css({top: item.pageY+5, left: item.pageX+5})
						.fadeIn(200);
				} else {
					$("#tooltip").hide();
			}
		});

		$("#placeholder").bind("plotclick", function (event, pos, item) {
			if (item) 
			{
				//search for data
				for (var i = 0; i < rivers.length; i++)
				{
					if (rivers[i].local == item.datapoint[0] || rivers[i].global == item.datapoint[0])
					{
						var page = "page" + rivers[i].page + ".svg";
						$("#svg").attr("data", page);
						$('#svg').load(page);
						console.log(rivers[i]);
						var  str = "$('#" + rivers[i].id + "').attr('stroke-width', '64');"
						console.log(str);
    					setTimeout(str, 2000);
					}
				}
			}
		});
		// Add the Flot version string to the footer

		$("#footer").prepend("Flot " + $.plot.version + " &ndash; ");
	});

	</script>
<style type="text/css"></style></head>
<body>

	<div id="header">
	</div>

	<div id="content">

		<div class="demo-container">
			<div id="placeholder" class="demo-placeholder" style="padding: 0px; position: relative;"></div>
		</div>


	</div>
	<object id="svg" data="000" type="image/svg+xml" style="width:1000px">
	</object>
	<div id="footer">Flot 0.8.3 – 
		Copyright © 2007 - 2014 IOLA and Ole Laursen
	</div>



</body></html>